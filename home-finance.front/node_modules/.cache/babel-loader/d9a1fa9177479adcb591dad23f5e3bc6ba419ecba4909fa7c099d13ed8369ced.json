{"ast":null,"code":"/**\r\n * Serviço de API para gerenciamento de Categorias\r\n * Contém todas as operações relacionadas a categorias de transações\r\n */\n\nimport axios from 'axios';\nimport { API_ENDPOINTS } from '../config/api';\n\n/**\r\n * Busca todas as categorias cadastradas no sistema\r\n * @returns Promise com array de categorias\r\n */\nexport const listarCategorias = async () => {\n  try {\n    const response = await axios.get(API_ENDPOINTS.CATEGORIAS.BASE);\n    return response.data;\n  } catch (error) {\n    console.error('Erro ao listar categorias:', error);\n    throw new Error('Não foi possível carregar a lista de categorias');\n  }\n};\n\n/**\r\n * Busca uma categoria específica pelo ID\r\n * @param id - ID da categoria\r\n * @returns Promise com os dados da categoria\r\n */\nexport const buscarCategoriaPorId = async id => {\n  try {\n    const response = await axios.get(API_ENDPOINTS.CATEGORIAS.BY_ID(id));\n    return response.data;\n  } catch (error) {\n    console.error(`Erro ao buscar categoria ${id}:`, error);\n    throw new Error('Não foi possível carregar os dados da categoria');\n  }\n};\n\n/**\r\n * Cria uma nova categoria no sistema\r\n * @param categoriaDto - Dados da categoria a ser criada\r\n * @returns Promise com os dados da categoria criada (incluindo ID gerado)\r\n */\nexport const criarCategoria = async categoriaDto => {\n  try {\n    // Validação básica antes de enviar\n    if (!categoriaDto.descricao || categoriaDto.descricao.trim() === '') {\n      throw new Error('Descrição é obrigatória');\n    }\n    if (!categoriaDto.finalidade) {\n      throw new Error('Finalidade é obrigatória');\n    }\n    const response = await axios.post(API_ENDPOINTS.CATEGORIAS.BASE, categoriaDto);\n    return response.data;\n  } catch (error) {\n    console.error('Erro ao criar categoria:', error);\n    if (axios.isAxiosError(error) && error.response) {\n      throw new Error(error.response.data.message || 'Não foi possível criar a categoria');\n    }\n    throw error;\n  }\n};","map":{"version":3,"names":["axios","API_ENDPOINTS","listarCategorias","response","get","CATEGORIAS","BASE","data","error","console","Error","buscarCategoriaPorId","id","BY_ID","criarCategoria","categoriaDto","descricao","trim","finalidade","post","isAxiosError","message"],"sources":["E:/home-finance.cop/src/services/categoriaService.ts"],"sourcesContent":["/**\r\n * Serviço de API para gerenciamento de Categorias\r\n * Contém todas as operações relacionadas a categorias de transações\r\n */\r\n\r\nimport axios from 'axios';\r\nimport { Categoria, CriarCategoriaDto } from '../types';\r\nimport { API_ENDPOINTS } from '../config/api';\r\n\r\n/**\r\n * Busca todas as categorias cadastradas no sistema\r\n * @returns Promise com array de categorias\r\n */\r\nexport const listarCategorias = async (): Promise<Categoria[]> => {\r\n  try {\r\n    const response = await axios.get<Categoria[]>(API_ENDPOINTS.CATEGORIAS.BASE);\r\n    return response.data;\r\n  } catch (error) {\r\n    console.error('Erro ao listar categorias:', error);\r\n    throw new Error('Não foi possível carregar a lista de categorias');\r\n  }\r\n};\r\n\r\n/**\r\n * Busca uma categoria específica pelo ID\r\n * @param id - ID da categoria\r\n * @returns Promise com os dados da categoria\r\n */\r\nexport const buscarCategoriaPorId = async (id: number): Promise<Categoria> => {\r\n  try {\r\n    const response = await axios.get<Categoria>(API_ENDPOINTS.CATEGORIAS.BY_ID(id));\r\n    return response.data;\r\n  } catch (error) {\r\n    console.error(`Erro ao buscar categoria ${id}:`, error);\r\n    throw new Error('Não foi possível carregar os dados da categoria');\r\n  }\r\n};\r\n\r\n/**\r\n * Cria uma nova categoria no sistema\r\n * @param categoriaDto - Dados da categoria a ser criada\r\n * @returns Promise com os dados da categoria criada (incluindo ID gerado)\r\n */\r\nexport const criarCategoria = async (categoriaDto: CriarCategoriaDto): Promise<Categoria> => {\r\n  try {\r\n    // Validação básica antes de enviar\r\n    if (!categoriaDto.descricao || categoriaDto.descricao.trim() === '') {\r\n      throw new Error('Descrição é obrigatória');\r\n    }\r\n    if (!categoriaDto.finalidade) {\r\n      throw new Error('Finalidade é obrigatória');\r\n    }\r\n\r\n    const response = await axios.post<Categoria>(API_ENDPOINTS.CATEGORIAS.BASE, categoriaDto);\r\n    return response.data;\r\n  } catch (error) {\r\n    console.error('Erro ao criar categoria:', error);\r\n    if (axios.isAxiosError(error) && error.response) {\r\n      throw new Error(error.response.data.message || 'Não foi possível criar a categoria');\r\n    }\r\n    throw error;\r\n  }\r\n};\r\n"],"mappings":"AAAA;AACA;AACA;AACA;;AAEA,OAAOA,KAAK,MAAM,OAAO;AAEzB,SAASC,aAAa,QAAQ,eAAe;;AAE7C;AACA;AACA;AACA;AACA,OAAO,MAAMC,gBAAgB,GAAG,MAAAA,CAAA,KAAkC;EAChE,IAAI;IACF,MAAMC,QAAQ,GAAG,MAAMH,KAAK,CAACI,GAAG,CAAcH,aAAa,CAACI,UAAU,CAACC,IAAI,CAAC;IAC5E,OAAOH,QAAQ,CAACI,IAAI;EACtB,CAAC,CAAC,OAAOC,KAAK,EAAE;IACdC,OAAO,CAACD,KAAK,CAAC,4BAA4B,EAAEA,KAAK,CAAC;IAClD,MAAM,IAAIE,KAAK,CAAC,iDAAiD,CAAC;EACpE;AACF,CAAC;;AAED;AACA;AACA;AACA;AACA;AACA,OAAO,MAAMC,oBAAoB,GAAG,MAAOC,EAAU,IAAyB;EAC5E,IAAI;IACF,MAAMT,QAAQ,GAAG,MAAMH,KAAK,CAACI,GAAG,CAAYH,aAAa,CAACI,UAAU,CAACQ,KAAK,CAACD,EAAE,CAAC,CAAC;IAC/E,OAAOT,QAAQ,CAACI,IAAI;EACtB,CAAC,CAAC,OAAOC,KAAK,EAAE;IACdC,OAAO,CAACD,KAAK,CAAC,4BAA4BI,EAAE,GAAG,EAAEJ,KAAK,CAAC;IACvD,MAAM,IAAIE,KAAK,CAAC,iDAAiD,CAAC;EACpE;AACF,CAAC;;AAED;AACA;AACA;AACA;AACA;AACA,OAAO,MAAMI,cAAc,GAAG,MAAOC,YAA+B,IAAyB;EAC3F,IAAI;IACF;IACA,IAAI,CAACA,YAAY,CAACC,SAAS,IAAID,YAAY,CAACC,SAAS,CAACC,IAAI,CAAC,CAAC,KAAK,EAAE,EAAE;MACnE,MAAM,IAAIP,KAAK,CAAC,yBAAyB,CAAC;IAC5C;IACA,IAAI,CAACK,YAAY,CAACG,UAAU,EAAE;MAC5B,MAAM,IAAIR,KAAK,CAAC,0BAA0B,CAAC;IAC7C;IAEA,MAAMP,QAAQ,GAAG,MAAMH,KAAK,CAACmB,IAAI,CAAYlB,aAAa,CAACI,UAAU,CAACC,IAAI,EAAES,YAAY,CAAC;IACzF,OAAOZ,QAAQ,CAACI,IAAI;EACtB,CAAC,CAAC,OAAOC,KAAK,EAAE;IACdC,OAAO,CAACD,KAAK,CAAC,0BAA0B,EAAEA,KAAK,CAAC;IAChD,IAAIR,KAAK,CAACoB,YAAY,CAACZ,KAAK,CAAC,IAAIA,KAAK,CAACL,QAAQ,EAAE;MAC/C,MAAM,IAAIO,KAAK,CAACF,KAAK,CAACL,QAAQ,CAACI,IAAI,CAACc,OAAO,IAAI,oCAAoC,CAAC;IACtF;IACA,MAAMb,KAAK;EACb;AACF,CAAC","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}