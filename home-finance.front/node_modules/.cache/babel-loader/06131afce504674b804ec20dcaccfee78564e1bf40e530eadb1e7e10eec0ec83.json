{"ast":null,"code":"/**\r\n * Serviço de API para gerenciamento de Pessoas\r\n * Contém todas as operações CRUD relacionadas a pessoas\r\n */\n\nimport axios from 'axios';\nimport { API_ENDPOINTS } from '../config/api';\n\n/**\r\n * Busca todas as pessoas cadastradas no sistema\r\n * @returns Promise com array de pessoas\r\n */\nexport const listPeople = async () => {\n  try {\n    const response = await axios.get(API_ENDPOINTS.PESSOAS.BASE);\n    return response.data;\n  } catch (error) {\n    console.error('Erro ao listar pessoas:', error);\n    throw new Error('Não foi possível carregar a lista de pessoas');\n  }\n};\n\n/**\r\n * Busca uma pessoa específica pelo ID\r\n * @param id - ID da pessoa\r\n * @returns Promise com os dados da pessoa\r\n */\nexport const getPersonById = async id => {\n  try {\n    const response = await axios.get(API_ENDPOINTS.PESSOAS.BY_ID(id));\n    return response.data;\n  } catch (error) {\n    console.error(`Erro ao buscar pessoa ${id}:`, error);\n    throw new Error('Não foi possível carregar os dados da pessoa');\n  }\n};\n\n/**\r\n * Cria uma nova pessoa no sistema\r\n * @param personDto - Dados da pessoa a ser criada\r\n * @returns Promise com os dados da pessoa criada (incluindo ID gerado)\r\n */\nexport const createPerson = async personDto => {\n  try {\n    // Validação básica antes de enviar\n    if (!personDto.nome || personDto.nome.trim() === '') {\n      throw new Error('Nome é obrigatório');\n    }\n    if (!personDto.idade || personDto.idade < 0) {\n      throw new Error('Idade deve ser um número positivo');\n    }\n    const response = await axios.post(API_ENDPOINTS.PESSOAS.BASE, personDto);\n    return response.data;\n  } catch (error) {\n    console.error('Erro ao criar pessoa:', error);\n    if (axios.isAxiosError(error) && error.response) {\n      throw new Error(error.response.data.message || 'Não foi possível criar a pessoa');\n    }\n    throw error;\n  }\n};\n\n/**\r\n * Deleta uma pessoa do sistema\r\n * IMPORTANTE: Ao deletar uma pessoa, todas as suas transações também serão apagadas\r\n * conforme especificado nos requisitos\r\n * @param id - ID da pessoa a ser deletada\r\n */\nexport const deletePerson = async id => {\n  try {\n    await axios.delete(API_ENDPOINTS.PESSOAS.BY_ID(id));\n  } catch (error) {\n    console.error(`Erro ao deletar pessoa ${id}:`, error);\n    if (axios.isAxiosError(error) && error.response) {\n      throw new Error(error.response.data.message || 'Não foi possível deletar a pessoa');\n    }\n    throw new Error('Não foi possível deletar a pessoa');\n  }\n};","map":{"version":3,"names":["axios","API_ENDPOINTS","listPeople","response","get","PESSOAS","BASE","data","error","console","Error","getPersonById","id","BY_ID","createPerson","personDto","nome","trim","idade","post","isAxiosError","message","deletePerson","delete"],"sources":["E:/home-finance.front/src/services/personService.ts"],"sourcesContent":["/**\r\n * Serviço de API para gerenciamento de Pessoas\r\n * Contém todas as operações CRUD relacionadas a pessoas\r\n */\r\n\r\nimport axios from 'axios';\r\nimport { Person, CreatePersonDto } from '../types';\r\nimport { API_ENDPOINTS } from '../config/api';\r\n\r\n/**\r\n * Busca todas as pessoas cadastradas no sistema\r\n * @returns Promise com array de pessoas\r\n */\r\nexport const listPeople = async (): Promise<Person[]> => {\r\n  try {\r\n    const response = await axios.get<Person[]>(API_ENDPOINTS.PESSOAS.BASE);\r\n    return response.data;\r\n  } catch (error) {\r\n    console.error('Erro ao listar pessoas:', error);\r\n    throw new Error('Não foi possível carregar a lista de pessoas');\r\n  }\r\n};\r\n\r\n/**\r\n * Busca uma pessoa específica pelo ID\r\n * @param id - ID da pessoa\r\n * @returns Promise com os dados da pessoa\r\n */\r\nexport const getPersonById = async (id: number): Promise<Person> => {\r\n  try {\r\n    const response = await axios.get<Person>(API_ENDPOINTS.PESSOAS.BY_ID(id));\r\n    return response.data;\r\n  } catch (error) {\r\n    console.error(`Erro ao buscar pessoa ${id}:`, error);\r\n    throw new Error('Não foi possível carregar os dados da pessoa');\r\n  }\r\n};\r\n\r\n/**\r\n * Cria uma nova pessoa no sistema\r\n * @param personDto - Dados da pessoa a ser criada\r\n * @returns Promise com os dados da pessoa criada (incluindo ID gerado)\r\n */\r\nexport const createPerson = async (personDto: CreatePersonDto): Promise<Person> => {\r\n  try {\r\n    // Validação básica antes de enviar\r\n    if (!personDto.nome || personDto.nome.trim() === '') {\r\n      throw new Error('Nome é obrigatório');\r\n    }\r\n    if (!personDto.idade || personDto.idade < 0) {\r\n      throw new Error('Idade deve ser um número positivo');\r\n    }\r\n\r\n    const response = await axios.post<Person>(API_ENDPOINTS.PESSOAS.BASE, personDto);\r\n    return response.data;\r\n  } catch (error) {\r\n    console.error('Erro ao criar pessoa:', error);\r\n    if (axios.isAxiosError(error) && error.response) {\r\n      throw new Error(error.response.data.message || 'Não foi possível criar a pessoa');\r\n    }\r\n    throw error;\r\n  }\r\n};\r\n\r\n/**\r\n * Deleta uma pessoa do sistema\r\n * IMPORTANTE: Ao deletar uma pessoa, todas as suas transações também serão apagadas\r\n * conforme especificado nos requisitos\r\n * @param id - ID da pessoa a ser deletada\r\n */\r\nexport const deletePerson = async (id: number): Promise<void> => {\r\n  try {\r\n    await axios.delete(API_ENDPOINTS.PESSOAS.BY_ID(id));\r\n  } catch (error) {\r\n    console.error(`Erro ao deletar pessoa ${id}:`, error);\r\n    if (axios.isAxiosError(error) && error.response) {\r\n      throw new Error(error.response.data.message || 'Não foi possível deletar a pessoa');\r\n    }\r\n    throw new Error('Não foi possível deletar a pessoa');\r\n  }\r\n};\r\n"],"mappings":"AAAA;AACA;AACA;AACA;;AAEA,OAAOA,KAAK,MAAM,OAAO;AAEzB,SAASC,aAAa,QAAQ,eAAe;;AAE7C;AACA;AACA;AACA;AACA,OAAO,MAAMC,UAAU,GAAG,MAAAA,CAAA,KAA+B;EACvD,IAAI;IACF,MAAMC,QAAQ,GAAG,MAAMH,KAAK,CAACI,GAAG,CAAWH,aAAa,CAACI,OAAO,CAACC,IAAI,CAAC;IACtE,OAAOH,QAAQ,CAACI,IAAI;EACtB,CAAC,CAAC,OAAOC,KAAK,EAAE;IACdC,OAAO,CAACD,KAAK,CAAC,yBAAyB,EAAEA,KAAK,CAAC;IAC/C,MAAM,IAAIE,KAAK,CAAC,8CAA8C,CAAC;EACjE;AACF,CAAC;;AAED;AACA;AACA;AACA;AACA;AACA,OAAO,MAAMC,aAAa,GAAG,MAAOC,EAAU,IAAsB;EAClE,IAAI;IACF,MAAMT,QAAQ,GAAG,MAAMH,KAAK,CAACI,GAAG,CAASH,aAAa,CAACI,OAAO,CAACQ,KAAK,CAACD,EAAE,CAAC,CAAC;IACzE,OAAOT,QAAQ,CAACI,IAAI;EACtB,CAAC,CAAC,OAAOC,KAAK,EAAE;IACdC,OAAO,CAACD,KAAK,CAAC,yBAAyBI,EAAE,GAAG,EAAEJ,KAAK,CAAC;IACpD,MAAM,IAAIE,KAAK,CAAC,8CAA8C,CAAC;EACjE;AACF,CAAC;;AAED;AACA;AACA;AACA;AACA;AACA,OAAO,MAAMI,YAAY,GAAG,MAAOC,SAA0B,IAAsB;EACjF,IAAI;IACF;IACA,IAAI,CAACA,SAAS,CAACC,IAAI,IAAID,SAAS,CAACC,IAAI,CAACC,IAAI,CAAC,CAAC,KAAK,EAAE,EAAE;MACnD,MAAM,IAAIP,KAAK,CAAC,oBAAoB,CAAC;IACvC;IACA,IAAI,CAACK,SAAS,CAACG,KAAK,IAAIH,SAAS,CAACG,KAAK,GAAG,CAAC,EAAE;MAC3C,MAAM,IAAIR,KAAK,CAAC,mCAAmC,CAAC;IACtD;IAEA,MAAMP,QAAQ,GAAG,MAAMH,KAAK,CAACmB,IAAI,CAASlB,aAAa,CAACI,OAAO,CAACC,IAAI,EAAES,SAAS,CAAC;IAChF,OAAOZ,QAAQ,CAACI,IAAI;EACtB,CAAC,CAAC,OAAOC,KAAK,EAAE;IACdC,OAAO,CAACD,KAAK,CAAC,uBAAuB,EAAEA,KAAK,CAAC;IAC7C,IAAIR,KAAK,CAACoB,YAAY,CAACZ,KAAK,CAAC,IAAIA,KAAK,CAACL,QAAQ,EAAE;MAC/C,MAAM,IAAIO,KAAK,CAACF,KAAK,CAACL,QAAQ,CAACI,IAAI,CAACc,OAAO,IAAI,iCAAiC,CAAC;IACnF;IACA,MAAMb,KAAK;EACb;AACF,CAAC;;AAED;AACA;AACA;AACA;AACA;AACA;AACA,OAAO,MAAMc,YAAY,GAAG,MAAOV,EAAU,IAAoB;EAC/D,IAAI;IACF,MAAMZ,KAAK,CAACuB,MAAM,CAACtB,aAAa,CAACI,OAAO,CAACQ,KAAK,CAACD,EAAE,CAAC,CAAC;EACrD,CAAC,CAAC,OAAOJ,KAAK,EAAE;IACdC,OAAO,CAACD,KAAK,CAAC,0BAA0BI,EAAE,GAAG,EAAEJ,KAAK,CAAC;IACrD,IAAIR,KAAK,CAACoB,YAAY,CAACZ,KAAK,CAAC,IAAIA,KAAK,CAACL,QAAQ,EAAE;MAC/C,MAAM,IAAIO,KAAK,CAACF,KAAK,CAACL,QAAQ,CAACI,IAAI,CAACc,OAAO,IAAI,mCAAmC,CAAC;IACrF;IACA,MAAM,IAAIX,KAAK,CAAC,mCAAmC,CAAC;EACtD;AACF,CAAC","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}